# sed描述

首先：

`nl`命令是添加行号打印，与cat相同，只是添加了行号。

```
sed [-nefr] [動作]
選項與參數：
-n  ：使用安靜(silent)模式。在一般 sed 的用法中，所有來自 STDIN 的資料一般都會被列出到螢幕上。
      但如果加上 -n 參數後，則只有經過 sed 特殊處理的那一行(或者動作)才會被列出來。
-e  ：直接在指令列模式上進行 sed 的動作編輯；
-f  ：直接將 sed 的動作寫在一個檔案內， -f filename 則可以執行 filename 內的 sed 動作；
-r  ：sed 的動作支援的是延伸型正規表示法的語法。(預設是基礎正規表示法語法)
-i  ：直接修改讀取的檔案內容，而不是由螢幕輸出。

動作說明：  [n1[,n2]]function
n1, n2 ：不見得會存在，一般代表『選擇進行動作的行數』，舉例來說，如果我的動作
         是需要在 10 到 20 行之間進行的，則『 10,20[動作行為] 』

function 有底下這些咚咚：
a   ：新增， a 的後面可以接字串，而這些字串會在新的一行出現(目前的下一行)～
c   ：取代， c 的後面可以接字串，這些字串可以取代 n1,n2 之間的行！
d   ：刪除，因為是刪除啊，所以 d 後面通常不接任何咚咚；
i   ：插入， i 的後面可以接字串，而這些字串會在新的一行出現(目前的上一行)；
p   ：列印，亦即將某個選擇的資料印出。通常 p 會與參數 sed -n 一起運作～
s   ：取代，可以直接進行取代的工作哩！通常這個 s 的動作可以搭配正規表示法！
      例如 1,20s/old/new/g 就是啦！
```



## 例子

1. 删除第2行到第5行

```
nl /etc/passwd | grep '2,5d'
```

2. 在第二行后面加上drink tea

```
nl /etc/passwd | grep '2a drink tea'
```

3. 在第二行前面加上drink tea

```
nl /etc/passwd | grep '2i drink tea'
```

4. 将第2-5行的内容取代为No 2-5 number

```
nl /etc/passwd | sed '2,5c No 2-5 number'
```

5. 列出第5-7行

```
nl /etc/passwd | sed -n '5,7p'
```

6. 搜寻取代

```
`sed 's/要被取代的字串/新的字串/g' `
```

